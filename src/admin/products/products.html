<div class="admin-panel-header">
    <h3>Gestión de Productos</h3>
</div>

<div class="admin-card">
    <h4>Agregar/Editar Producto</h4>
    <form id="product-form" class="product-form">
        <input type="hidden" id="product-id">
        
        <div class="form-group">
            <label for="name">Nombre:</label>
            <input type="text" id="name" name="name" required>
        </div>
        
        <div class="form-group">
            <label for="price">Precio (S/):</label>
            <input type="number" id="price" name="price" step="0.01" required>
        </div>

        <div class="form-group">
            <label for="category_id">Categoría Existente:</label>
            <select id="category_id" name="categoria_id" required>
                <option value="">-- Seleccione una Categoría --</option>
            </select>
        </div>
        
        <div class="form-group" id="new-category-group">
            <label for="new_category_name">O Crear Nueva Categoría:</label>
            <div style="display: flex; gap: 10px;">
                <input type="text" id="new_category_name" placeholder="Escribe el nombre de la nueva categoría" style="flex-grow: 1;">
                <button type="button" id="create-category-btn" class="secondary-btn">Crear y Seleccionar</button>
            </div>
        </div>
        <div class="form-group">
            <label for="image_file">Imagen (Nueva):</label>
            <input type="file" id="image_file" accept="image/*" name="image_file">
            <input type="hidden" id="current_image_url" name="current_image_url">
            <div id="image-preview" class="image-preview"></div>
        </div>
        
        <div class="form-group checkbox-group">
            <input type="checkbox" id="is_active" name="is_active">
            <label for="is_active">Activo para venta</label>
        </div>
        
        <button type="submit" id="save-product-btn">Guardar Producto</button>
        <button type="button" id="cancel-edit-btn" class="secondary-btn" style="display: none;">Cancelar Edición</button>
    </form>
</div>

<div class="admin-panel-list">
    <h4>Lista de Productos</h4>
    <table id="products-table">
        <thead>
            <tr>
                <th>ID</th>
                <th>Nombre</th>
                <th>Precio</th>
                <th>Categoría</th>
                <th>Activo</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            </tbody>
    </table>
</div>